# API Contract: Modern Frontend UI Interactions

## Overview
This document defines the API contracts for UI-specific interactions that support the modern UI features, including theme preferences and user settings.

## Theme Preferences API

### GET /api/user/preferences/theme
Retrieve the user's theme preferences

**Request**:
```
GET /api/user/preferences/theme
Authorization: Bearer <token>
```

**Response**:
```
Status: 200 OK
{
  "themeMode": "light" | "dark",
  "systemPreference": boolean,
  "lastUpdated": "2023-01-01T00:00:00Z"
}
```

### PUT /api/user/preferences/theme
Update the user's theme preferences

**Request**:
```
PUT /api/user/preferences/theme
Authorization: Bearer <token>
Content-Type: application/json

{
  "themeMode": "light" | "dark",
  "systemPreference": boolean
}
```

**Response**:
```
Status: 200 OK
{
  "themeMode": "light" | "dark",
  "systemPreference": boolean,
  "lastUpdated": "2023-01-01T00:00:00Z"
}
```

**Error Responses**:
- 400: Invalid theme mode or malformed request
- 401: Unauthorized access
- 500: Internal server error

## User Preferences API

### GET /api/user/preferences
Retrieve all user preferences

**Request**:
```
GET /api/user/preferences
Authorization: Bearer <token>
```

**Response**:
```
Status: 200 OK
{
  "themePreference": "light" | "dark" | "system",
  "animationPreference": "enabled" | "reduced",
  "language": "en" | "ur",
  "lastUpdated": "2023-01-01T00:00:00Z"
}
```

### PUT /api/user/preferences
Update user preferences

**Request**:
```
PUT /api/user/preferences
Authorization: Bearer <token>
Content-Type: application/json

{
  "themePreference": "light" | "dark" | "system",
  "animationPreference": "enabled" | "reduced",
  "language": "en" | "ur"
}
```

**Response**:
```
Status: 200 OK
{
  "themePreference": "light" | "dark" | "system",
  "animationPreference": "enabled" | "reduced",
  "language": "en" | "ur",
  "lastUpdated": "2023-01-01T00:00:00Z"
}
```

**Error Responses**:
- 400: Invalid preference values or malformed request
- 401: Unauthorized access
- 500: Internal server error

## Form Validation API (Client-Side)

### Note
Form validation is handled client-side using Zod schemas. The API contracts for form data submission remain unchanged from the existing backend API, but the frontend will validate data before submission using the following schema patterns:

**Task Creation Schema**:
```json
{
  "title": {
    "type": "string",
    "minLength": 1,
    "maxLength": 200
  },
  "description": {
    "type": "string",
    "maxLength": 1000,
    "optional": true
  },
  "priority": {
    "type": "string",
    "enum": ["low", "medium", "high"]
  },
  "dueDate": {
    "type": "string",
    "format": "date",
    "optional": true
  },
  "tags": {
    "type": "array",
    "items": {
      "type": "string"
    },
    "maxItems": 10
  }
}
```

## Animation State API (UI-Internal)

### Note
Animation states are managed internally by the UI components using Framer Motion and React state management. No backend API is required for animation controls.